var ngPhotoSwipe=angular.module("ngPhotoSwipe",[]);ngPhotoSwipe.directive("photoSwipe",[function(){var a='<div class="photoswipe-gallery" itemscope itemtype="http://schema.org/ImageGallery"><div photo-gallery images="images"></div></div>',b=function(a){for(var b=function(a){for(var b,c,d,e,f=a.childNodes,g=f.length,h=[],i=0;g>i;i++)b=f[i],1===b.nodeType&&(c=b.getElementsByTagName("a")[0],d=c.getAttribute("data-size").split("x"),e={src:c.getAttribute("href"),w:parseInt(d[0],10),h:parseInt(d[1],10)},b.children.length>1&&(e.title=b.children[1].innerHTML),c.children.length>0&&(e.msrc=c.children[0].getAttribute("src")),e.el=b,h.push(e));return h},c=function k(a,b){return a&&(b(a)?a:k(a.parentNode,b))},d=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,d=c(b,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()});if(d){for(var e,g=d.parentNode,h=d.parentNode.childNodes,i=h.length,j=0,k=0;i>k;k++)if(1===h[k].nodeType){if(h[k]===d){e=j;break}j++}return e>=0&&f(e,g),!1}},e=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b.hasOwnProperty("pid")?(b.pid=parseInt(b.pid,10),b):b},f=function(a,c,d){var e,f,g,h=document.querySelectorAll(".pswp")[0];g=b(c),f={index:a,galleryUID:c.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var b=g[a].el.getElementsByTagName("img")[0];b||(b=g[a].el.getElementsByTagName("video")[0]);var c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}},maxSpreadZoom:4,getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.5}},d&&(f.showAnimationDuration=0),e=new PhotoSwipe(h,PhotoSwipeUI_Default,g,f),e.init()},g=document.querySelectorAll(a),h=0,i=g.length;i>h;h++)g[h].setAttribute("data-pswp-uid",h+1),g[h].onclick=d;var j=e();j.pid>0&&j.gid>0&&f(j.pid-1,g[j.gid-1],!0)},c=function(a,c){b("#"+c.attr("id"))};return{restrict:"EA",replace:!0,scope:{images:"=",width:"=",height:"=",template:"="},template:a,link:c}}]),ngPhotoSwipe.directive("photoSlider",[function(){var a='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>';return{restrict:"EA",replace:!0,template:a}}]),ngPhotoSwipe.directive("photoGallery",[function(){var a='<figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject" ng-repeat="img in images"><div class="media-item" ng-switch on="img.type"><div ng-switch-when="video"><a href="{{img.safeSrc}}" itemprop="contentUrl" data-size="{{img.size}}"><video width="400" controls><source ng-src="{{img.safeSrc}}" type="video/mp4"></video></a></div><div ng-switch-default><a href="{{img.src}}" itemprop="contentUrl" data-size="{{img.size}}"><img ng-src="{{img.thumb}}" itemprop="thumbnail" alt="{{img.caption}}" /></a></div></div><figcaption itemprop="caption description">{{img.caption}}</figcaption></figure>';return{restrict:"EA",scope:{images:"=",width:"=",height:"="},replace:!0,template:a}}]);